{"ast":null,"code":"var _jsxFileName = \"/Users/akmalkhan/chromablend/Spiralreports1/src/components/cards/OtpPopup.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OTPPopup = ({\n  isOpen = true,\n  onClose = () => {},\n  onSubmit = () => {}\n}) => {\n  _s();\n  const [otp, setOtp] = useState(['', '', '', '', '', '']);\n  const [isValid, setIsValid] = useState(false);\n  const inputs = useRef([]);\n  useEffect(() => {\n    if (isOpen && inputs.current[0]) {\n      inputs.current[0].focus();\n    }\n  }, [isOpen]);\n  useEffect(() => {\n    setIsValid(otp.every(digit => digit !== ''));\n  }, [otp]);\n  const handleChange = (element, index) => {\n    const value = element.value;\n    if (isNaN(value) || value.length > 1) return; // Allow only one digit\n\n    const newOtp = [...otp];\n    newOtp[index] = value;\n    setOtp(newOtp);\n    if (value && index < 5) {\n      inputs.current[index + 1].focus();\n    }\n  };\n  const handleKeyDown = (e, index) => {\n    if (e.key === 'Backspace' && !otp[index] && index > 0) {\n      inputs.current[index - 1].focus();\n    }\n  };\n  const handlePaste = e => {\n    e.preventDefault();\n    const pastedData = e.clipboardData.getData('text').slice(0, 6);\n    const pastedArray = pastedData.split('').filter(char => !isNaN(char)); // Filter for digits\n\n    if (pastedArray.length > 0) {\n      setOtp(pastedArray.concat(Array(6 - pastedArray.length).fill('')));\n      if (inputs.current[pastedArray.length]) {\n        inputs.current[pastedArray.length].focus();\n      }\n    }\n  };\n  const handleSubmit = () => {\n    if (isValid) {\n      const otpValue = otp.join('');\n      console.log(\"Submitting OTP:\", otpValue); // Log the OTP value\n      onSubmit(otpValue);\n    }\n  };\n  const handleClose = () => {\n    setOtp(['', '', '', '', '', '']); // Reset OTP state\n    onClose();\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-6 w-full max-w-md mx-4 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClose,\n        className: \"absolute right-4 top-4 text-gray-400 hover:text-gray-600\",\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-4\",\n        children: \"Enter Verification Code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mb-6\",\n        children: \"Please enter the 6-digit code sent to your device\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center gap-2 mb-6\",\n        children: otp.map((digit, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          inputMode: \"numeric\",\n          maxLength: \"1\",\n          ref: el => inputs.current[index] = el,\n          value: digit,\n          onChange: e => handleChange(e.target, index),\n          onKeyDown: e => handleKeyDown(e, index),\n          onPaste: handlePaste,\n          className: \"w-12 h-12 text-center text-xl font-semibold border rounded-lg  focus:border-[#EF4444] focus:outline-none transition-colors\",\n          style: {\n            boxShadow: 'none',\n            WebkitAppearance: 'none',\n            MozAppearance: 'textfield'\n          }\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleClose,\n          className: \"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg  hover:bg-gray-50 transition-colors\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          disabled: !isValid,\n          style: {\n            backgroundColor: isValid ? '#EF4444' : '#D1D5DB',\n            opacity: isValid ? 1 : 0.7,\n            cursor: isValid ? 'pointer' : 'not-allowed'\n          },\n          className: \"px-4 py-2 text-white rounded-lg transition-colors hover:opacity-90\",\n          children: \"Verify\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(OTPPopup, \"3S/4QFQj2QVZS1AY8SMs1Qz/3Vw=\");\n_c = OTPPopup;\nexport default OTPPopup;\nvar _c;\n$RefreshReg$(_c, \"OTPPopup\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","OTPPopup","isOpen","onClose","onSubmit","_s","otp","setOtp","isValid","setIsValid","inputs","current","focus","every","digit","handleChange","element","index","value","isNaN","length","newOtp","handleKeyDown","e","key","handlePaste","preventDefault","pastedData","clipboardData","getData","slice","pastedArray","split","filter","char","concat","Array","fill","handleSubmit","otpValue","join","console","log","handleClose","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","type","inputMode","maxLength","ref","el","onChange","target","onKeyDown","onPaste","style","boxShadow","WebkitAppearance","MozAppearance","disabled","backgroundColor","opacity","cursor","_c","$RefreshReg$"],"sources":["/Users/akmalkhan/chromablend/Spiralreports1/src/components/cards/OtpPopup.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\nconst OTPPopup = ({ isOpen = true, onClose = () => {}, onSubmit = () => {} }) => {\n  const [otp, setOtp] = useState(['', '', '', '', '', '']);\n  const [isValid, setIsValid] = useState(false);\n  const inputs = useRef([]);\n\n  useEffect(() => {\n    if (isOpen && inputs.current[0]) {\n      inputs.current[0].focus();\n    }\n  }, [isOpen]);\n\n  useEffect(() => {\n    setIsValid(otp.every(digit => digit !== ''));\n  }, [otp]);\n\n  const handleChange = (element, index) => {\n    const value = element.value;\n    if (isNaN(value) || value.length > 1) return; // Allow only one digit\n\n    const newOtp = [...otp];\n    newOtp[index] = value;\n    setOtp(newOtp);\n\n    if (value && index < 5) {\n      inputs.current[index + 1].focus();\n    }\n  };\n\n  const handleKeyDown = (e, index) => {\n    if (e.key === 'Backspace' && !otp[index] && index > 0) {\n      inputs.current[index - 1].focus();\n    }\n  };\n\n  const handlePaste = (e) => {\n    e.preventDefault();\n    const pastedData = e.clipboardData.getData('text').slice(0, 6);\n    const pastedArray = pastedData.split('').filter(char => !isNaN(char)); // Filter for digits\n\n    if (pastedArray.length > 0) {\n      setOtp(pastedArray.concat(Array(6 - pastedArray.length).fill('')));\n      if (inputs.current[pastedArray.length]) {\n        inputs.current[pastedArray.length].focus();\n      }\n    }\n  };\n\n  const handleSubmit = () => {\n    if (isValid) {\n      const otpValue = otp.join('');\n      console.log(\"Submitting OTP:\", otpValue); // Log the OTP value\n      onSubmit(otpValue);\n    }\n  };\n\n  const handleClose = () => {\n    setOtp(['', '', '', '', '', '']); // Reset OTP state\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\n      <div className=\"bg-white rounded-lg p-6 w-full max-w-md mx-4 relative\">\n        <button \n          onClick={handleClose}\n          className=\"absolute right-4 top-4 text-gray-400 hover:text-gray-600\"\n        >\n          âœ•\n        </button>\n\n        <h2 className=\"text-xl font-semibold mb-4\">Enter Verification Code</h2>\n        <p className=\"text-sm text-gray-600 mb-6\">\n          Please enter the 6-digit code sent to your device\n        </p>\n\n        <div className=\"flex justify-center gap-2 mb-6\">\n          {otp.map((digit, index) => (\n            <input\n              key={index}\n              type=\"text\"\n              inputMode=\"numeric\"\n              maxLength=\"1\"\n              ref={el => inputs.current[index] = el}\n              value={digit}\n              onChange={e => handleChange(e.target, index)}\n              onKeyDown={e => handleKeyDown(e, index)}\n              onPaste={handlePaste}\n              className=\"w-12 h-12 text-center text-xl font-semibold border rounded-lg \n                focus:border-[#EF4444] focus:outline-none\n                transition-colors\"\n              style={{\n                boxShadow: 'none',\n                WebkitAppearance: 'none',\n                MozAppearance: 'textfield'\n              }}\n            />\n          ))}\n        </div>\n\n        <div className=\"flex justify-end gap-3\">\n          <button\n            onClick={handleClose}\n            className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg \n              hover:bg-gray-50 transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleSubmit}\n            disabled={!isValid}\n            style={{\n              backgroundColor: isValid ? '#EF4444' : '#D1D5DB',\n              opacity: isValid ? 1 : 0.7,\n              cursor: isValid ? 'pointer' : 'not-allowed'\n            }}\n            className=\"px-4 py-2 text-white rounded-lg transition-colors hover:opacity-90\"\n          >\n            Verify\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OTPPopup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}